# Дискретное математическое моделирование процесса восстановительного ремонта дорожной сети

## Как запустить

Чтобы запустить данную программу нужно перейти в папку где лежит проект

```bash
cd Desktop/mining-sim
```

После этого можно приступить к запуску проекта (см ниже)

Данная программа работает в двух режимах:

### ```generate_file```

Данный режим предоставляет возможность сгенерировать файлы со взрывами

Формат запуска:
```bash
python3 main.py generate_file --config <путь до конфигурационного файла>
```

Пример:
```bash
python3 main.py generate_file --config configs/file_creation_config.json
```

### ```simulate```

Данный режим предоставляет возможность промоделировать по сгенерированным файлам процесс восстановительного ремонта дорожной сети

Формат запуска:
```bash
python3 main.py simulate --config <путь до конфигурационного файла>
```

Пример:
```bash
python3 main.py simulate --config configs/simulation_config.json
```

## Конфигурационные файлы

Примеры конфигурационных файлов лежат в [configs](configs)

### Конфигурационный файл генерации взрывов

Пример этого конфигурационного файла находится [configs/file_creation_config.json](здесь)

- ```filename_prefix``` - префикс названия сгенерированных файлов
- ```files_quantity``` - колличество файлов, которые нужно сгенерировать
- ```road_length``` - длина дороги, для которой нужно сгенерировать взрывы
- ```explosions_probability``` - подконфиг для указания вероятностей взрывов

### Конфигурационный файл симуляции

Пример этого конфигурационного файла нахоится [configs.simulation_config.json](здесь)

- ```repair_crews``` - подконфиг, где нужно указать каждую ремонтную бригаду и для них указать взрывы каких типов она будет ремонтировать
- ```drones``` - подконфиг, где нужно указать каждого дрона и для них указать к какой ремонтной бригаде они принадлежат
- ```params``` - параметры моделирования
    - ```road_length``` - длина дороги
    - ```repairing_crew_speed``` - скорость ремонтной бригады в м/сек
    - ```repairing_crew_start_coord``` - начальная коориднаты каждой ремонтной бригады
    - ```drone_speed``` - скорость дрона в м/сек
    - ```drone_flight_time``` - время автономной работы дрона в сек
    - ```drone_charging_time``` - время зарядки дрона в сек
    - ```repairing_time``` - время нужное для ремонта взрывов конкретных типов
- ```explosions_files``` - список файлов, где лежат расписания взрывов, которые нужно промоделировать


## Примеры работы

Примеры сгенерированных файлов взрывов и моделирования по ним лежат в папке [test](test)
